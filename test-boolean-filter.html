<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boolean Filter Test</title>
  <!-- Import base styles -->
  <link rel="stylesheet" href="src/styles/base.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    h1 {
      margin-bottom: 10px;
    }
    
    .description {
      margin-bottom: 20px;
      color: #666;
    }
    
    .table-container {
      margin-top: 20px;
    }
    
    .filter-controls {
      margin-bottom: 20px;
      padding: 15px;
      background-color: #f5f5f5;
      border-radius: 4px;
    }
    
    .filter-group {
      margin-bottom: 10px;
    }
    
    .filter-group label {
      display: inline-block;
      margin-right: 10px;
      font-weight: 600;
    }
    
    button {
      padding: 8px 12px;
      margin-right: 8px;
      background-color: #4d90fe;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    
    button:hover {
      background-color: #357ae8;
    }
  </style>
</head>
<body>
  <h1>Boolean Filter Test</h1>
  <p class="description">
    This example tests the boolean filter functionality with "yes" and "no" values.
  </p>
  
  <div class="filter-controls">
    <div class="filter-group">
      <label>Filter In Stock:</label>
      <button id="filter-yes">Yes</button>
      <button id="filter-no">No</button>
      <button id="filter-clear">Clear Filter</button>
    </div>
  </div>
  
  <div class="table-container" id="table-container"></div>
  
  <!-- Import the Enhanced Simple Table library -->
  <script type="module">
    import EnhancedSimpleTable from './src/index.js';
    
    // Generate sample data with boolean values
    function generateData(count = 20) {
      const data = [];
      
      for (let i = 1; i <= count; i++) {
        data.push({
          id: i,
          name: `Item ${i}`,
          inStock: i % 2 === 0, // Even items are in stock, odd items are not
          price: Math.round(Math.random() * 1000) / 10
        });
      }
      
      return data;
    }
    
    // Define columns
    const columns = [
      { field: 'id', title: 'ID', sortable: true },
      { field: 'name', title: 'Name', sortable: true },
      { field: 'inStock', title: 'In Stock', dataType: 'boolean', sortable: true },
      { field: 'price', title: 'Price', dataType: 'currency', sortable: true, countryCode: 'US' }
    ];
    
    // Initialize the table
    const table = new EnhancedSimpleTable('#table-container', {
      data: generateData(20),
      columns: columns
    });
    
    // Set up event listeners for filter buttons
    document.getElementById('filter-yes').addEventListener('click', () => {
      table.addFilter({
        column: 'inStock',
        type: 'boolean',
        value: 'yes' // Test with string 'yes'
      });
      
      console.log('Applied YES filter');
    });
    
    document.getElementById('filter-no').addEventListener('click', () => {
      table.addFilter({
        column: 'inStock',
        type: 'boolean',
        value: 'no' // Test with string 'no'
      });
      
      console.log('Applied NO filter');
    });
    
    document.getElementById('filter-clear').addEventListener('click', () => {
      table.clearFilters();
      console.log('Cleared filters');
    });
  </script>
</body>
</html>
